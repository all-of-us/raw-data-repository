# Configuration for offline pipeline service. Should be kept in sync with test.yaml.

runtime: python37
service: offline
entrypoint: gunicorn -c rdr_service/services/gunicorn_config.py --timeout 18000 --max-requests 10 --max-requests-jitter 3 rdr_service.offline.main:app

# Because we are changing to an auto-scaled class, need to specify automatic_scaling
# https://cloud.google.com/appengine/docs/standard/reference/app-yaml?tab=python#scaling_elements
instance_class: F4_1G
automatic_scaling:
  min_idle_instances: automatic
  max_pending_latency: automatic

