"""modify_workspace_and_researcher_model

Revision ID: ec6018a5919f
Revises: 30000d39475f
Create Date: 2020-01-27 15:41:41.096956

"""
from alembic import op
import sqlalchemy as sa
import rdr_service.model.utils
from sqlalchemy.dialects import mysql

from rdr_service.participant_enums import WorkbenchWorkspaceAccessToCare, WorkbenchWorkspaceDisabilityStatus,\
    WorkbenchWorkspaceIncomeLevel, WorkbenchWorkspaceEducationLevel, WorkbenchWorkspaceGenderIdentity, \
    WorkbenchWorkspaceGeography, WorkbenchResearcherDegree, WorkbenchWorkspaceSexAtBirth, \
    WorkbenchWorkspaceSexualOrientation

# revision identifiers, used by Alembic.
revision = 'ec6018a5919f'
down_revision = '30000d39475f'
branch_labels = None
depends_on = None


def upgrade(engine_name):
    globals()["upgrade_%s" % engine_name]()


def downgrade(engine_name):
    globals()["downgrade_%s" % engine_name]()



def upgrade_rdr():
    # ### commands auto generated by Alembic - please adjust! ###
    op.add_column('workbench_researcher', sa.Column('degree', rdr_service.model.utils.Enum(WorkbenchResearcherDegree), nullable=True))
    op.add_column('workbench_researcher', sa.Column('identifies_as_lgbtq', sa.Boolean(), nullable=True))
    op.add_column('workbench_researcher', sa.Column('lgbtq_identity', sa.String(length=250), nullable=True))
    op.drop_column('workbench_researcher', 'sexual_orientation')
    op.add_column('workbench_researcher_history', sa.Column('degree', rdr_service.model.utils.Enum(WorkbenchResearcherDegree), nullable=True))
    op.add_column('workbench_researcher_history', sa.Column('identifies_as_lgbtq', sa.Boolean(), nullable=True))
    op.add_column('workbench_researcher_history', sa.Column('lgbtq_identity', sa.String(length=250), nullable=True))
    op.drop_column('workbench_researcher_history', 'sexual_orientation')
    op.add_column('workbench_workspace', sa.Column('access_to_care', rdr_service.model.utils.Enum(WorkbenchWorkspaceAccessToCare), nullable=True))
    op.add_column('workbench_workspace', sa.Column('age', sa.JSON(), nullable=True))
    op.add_column('workbench_workspace', sa.Column('disability_status', rdr_service.model.utils.Enum(WorkbenchWorkspaceDisabilityStatus), nullable=True))
    op.add_column('workbench_workspace', sa.Column('education_level', rdr_service.model.utils.Enum(WorkbenchWorkspaceEducationLevel), nullable=True))
    op.add_column('workbench_workspace', sa.Column('ethical_legal_social_implications', sa.Boolean(), nullable=True))
    op.add_column('workbench_workspace', sa.Column('focus_on_underrepresented_populations', sa.Boolean(), nullable=True))
    op.add_column('workbench_workspace', sa.Column('gender_identity', rdr_service.model.utils.Enum(WorkbenchWorkspaceGenderIdentity), nullable=True))
    op.add_column('workbench_workspace', sa.Column('geography', rdr_service.model.utils.Enum(WorkbenchWorkspaceGeography), nullable=True))
    op.add_column('workbench_workspace', sa.Column('income_level', rdr_service.model.utils.Enum(WorkbenchWorkspaceIncomeLevel), nullable=True))
    op.add_column('workbench_workspace', sa.Column('others', sa.String(length=500), nullable=True))
    op.add_column('workbench_workspace', sa.Column('race_ethnicity', sa.JSON(), nullable=True))
    op.add_column('workbench_workspace', sa.Column('scientific_approaches', sa.String(length=500), nullable=True))
    op.add_column('workbench_workspace', sa.Column('sex_at_birth', rdr_service.model.utils.Enum(WorkbenchWorkspaceSexAtBirth), nullable=True))
    op.add_column('workbench_workspace', sa.Column('sexual_orientation', rdr_service.model.utils.Enum(WorkbenchWorkspaceSexualOrientation), nullable=True))
    op.drop_column('workbench_workspace', 'reason_for_investigation')
    op.add_column('workbench_workspace_history', sa.Column('access_to_care', rdr_service.model.utils.Enum(WorkbenchWorkspaceAccessToCare), nullable=True))
    op.add_column('workbench_workspace_history', sa.Column('age', sa.JSON(), nullable=True))
    op.add_column('workbench_workspace_history', sa.Column('disability_status', rdr_service.model.utils.Enum(WorkbenchWorkspaceDisabilityStatus), nullable=True))
    op.add_column('workbench_workspace_history', sa.Column('education_level', rdr_service.model.utils.Enum(WorkbenchWorkspaceEducationLevel), nullable=True))
    op.add_column('workbench_workspace_history', sa.Column('ethical_legal_social_implications', sa.Boolean(), nullable=True))
    op.add_column('workbench_workspace_history', sa.Column('focus_on_underrepresented_populations', sa.Boolean(), nullable=True))
    op.add_column('workbench_workspace_history', sa.Column('gender_identity', rdr_service.model.utils.Enum(WorkbenchWorkspaceGenderIdentity), nullable=True))
    op.add_column('workbench_workspace_history', sa.Column('geography', rdr_service.model.utils.Enum(WorkbenchWorkspaceGeography), nullable=True))
    op.add_column('workbench_workspace_history', sa.Column('income_level', rdr_service.model.utils.Enum(WorkbenchWorkspaceIncomeLevel), nullable=True))
    op.add_column('workbench_workspace_history', sa.Column('others', sa.String(length=500), nullable=True))
    op.add_column('workbench_workspace_history', sa.Column('race_ethnicity', sa.JSON(), nullable=True))
    op.add_column('workbench_workspace_history', sa.Column('scientific_approaches', sa.String(length=500), nullable=True))
    op.add_column('workbench_workspace_history', sa.Column('sex_at_birth', rdr_service.model.utils.Enum(WorkbenchWorkspaceSexAtBirth), nullable=True))
    op.add_column('workbench_workspace_history', sa.Column('sexual_orientation', rdr_service.model.utils.Enum(WorkbenchWorkspaceSexualOrientation), nullable=True))
    op.drop_column('workbench_workspace_history', 'reason_for_investigation')
    # ### end Alembic commands ###


def downgrade_rdr():
    # ### commands auto generated by Alembic - please adjust! ###
    op.add_column('workbench_workspace_history', sa.Column('reason_for_investigation', mysql.VARCHAR(length=500), nullable=True))
    op.drop_column('workbench_workspace_history', 'sexual_orientation')
    op.drop_column('workbench_workspace_history', 'sex_at_birth')
    op.drop_column('workbench_workspace_history', 'scientific_approaches')
    op.drop_column('workbench_workspace_history', 'race_ethnicity')
    op.drop_column('workbench_workspace_history', 'others')
    op.drop_column('workbench_workspace_history', 'income_level')
    op.drop_column('workbench_workspace_history', 'geography')
    op.drop_column('workbench_workspace_history', 'gender_identity')
    op.drop_column('workbench_workspace_history', 'focus_on_underrepresented_populations')
    op.drop_column('workbench_workspace_history', 'ethical_legal_social_implications')
    op.drop_column('workbench_workspace_history', 'education_level')
    op.drop_column('workbench_workspace_history', 'disability_status')
    op.drop_column('workbench_workspace_history', 'age')
    op.drop_column('workbench_workspace_history', 'access_to_care')
    op.add_column('workbench_workspace', sa.Column('reason_for_investigation', mysql.VARCHAR(length=500), nullable=True))
    op.drop_column('workbench_workspace', 'sexual_orientation')
    op.drop_column('workbench_workspace', 'sex_at_birth')
    op.drop_column('workbench_workspace', 'scientific_approaches')
    op.drop_column('workbench_workspace', 'race_ethnicity')
    op.drop_column('workbench_workspace', 'others')
    op.drop_column('workbench_workspace', 'income_level')
    op.drop_column('workbench_workspace', 'geography')
    op.drop_column('workbench_workspace', 'gender_identity')
    op.drop_column('workbench_workspace', 'focus_on_underrepresented_populations')
    op.drop_column('workbench_workspace', 'ethical_legal_social_implications')
    op.drop_column('workbench_workspace', 'education_level')
    op.drop_column('workbench_workspace', 'disability_status')
    op.drop_column('workbench_workspace', 'age')
    op.drop_column('workbench_workspace', 'access_to_care')
    op.add_column('workbench_researcher_history', sa.Column('sexual_orientation', mysql.SMALLINT(display_width=6), autoincrement=False, nullable=True))
    op.drop_column('workbench_researcher_history', 'lgbtq_identity')
    op.drop_column('workbench_researcher_history', 'identifies_as_lgbtq')
    op.drop_column('workbench_researcher_history', 'degree')
    op.add_column('workbench_researcher', sa.Column('sexual_orientation', mysql.SMALLINT(display_width=6), autoincrement=False, nullable=True))
    op.drop_column('workbench_researcher', 'lgbtq_identity')
    op.drop_column('workbench_researcher', 'identifies_as_lgbtq')
    op.drop_column('workbench_researcher', 'degree')
    # ### end Alembic commands ###


def upgrade_metrics():
    # ### commands auto generated by Alembic - please adjust! ###
    pass
    # ### end Alembic commands ###


def downgrade_metrics():
    # ### commands auto generated by Alembic - please adjust! ###
    pass
    # ### end Alembic commands ###
