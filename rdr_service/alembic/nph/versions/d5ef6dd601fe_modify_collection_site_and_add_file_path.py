"""modify collection site and add file path

Revision ID: d5ef6dd601fe
Revises: 679ca3960a8d
Create Date: 2023-06-07 10:28:34.135848

"""
from alembic import op

# revision identifiers, used by Alembic.
revision = 'd5ef6dd601fe'
down_revision = '679ca3960a8d'
branch_labels = None
depends_on = None


def upgrade(engine_name):
    globals()["upgrade_%s" % engine_name]()


def downgrade(engine_name):
    globals()["downgrade_%s" % engine_name]()


def upgrade_nph():
    # ### commands auto generated by Alembic - please adjust! ###
    op.execute("""ALTER TABLE nph.sms_sample ADD COLUMN file_path varchar(255) AFTER ignore_reason;""")
    op.create_index(op.f('ix_nph_sms_sample_file_path'), 'sms_sample', ['file_path'], unique=False, schema='nph')

    op.execute("""ALTER TABLE nph.sms_n0 MODIFY collection_site VARCHAR(512);""")
    op.execute("""ALTER TABLE nph.sms_n1_mc1 MODIFY collection_site VARCHAR(512);""")

    # ### end Alembic commands ###


def downgrade_nph():
    # ### commands auto generated by Alembic - please adjust! ###
    op.execute("""ALTER TABLE nph.sms_n0 MODIFY collection_site VARCHAR(16);""")
    op.execute("""ALTER TABLE nph.sms_n1_mc1 MODIFY collection_site VARCHAR(16);""")

    op.drop_index(op.f('ix_nph_sms_sample_file_path'), table_name='sms_sample', schema='nph')
    op.drop_column('sms_sample', 'file_path')
    # ### end Alembic commands ###

